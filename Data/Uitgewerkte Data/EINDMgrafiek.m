clear all;
load('EINDM100.mat');
EINDM100 = sum(EINDM,2);
EINDSM100 = EINDM(:,1,:);
EINDGM100 = EINDM(:,2,:);
clear EINDM;
load('EINDM200.mat');
EINDM200 = sum(EINDM,2);
EINDSM200 = EINDM(:,1,:);
EINDGM200 = EINDM(:,2,:);
clear EINDM;
load('EINDM300.mat');
EINDM300 = sum(EINDM,2);
EINDSM300 = EINDM(:,1,:);
EINDGM300 = EINDM(:,2,:);
clear EINDM;
load('EINDM400.mat');
EINDM400 = sum(EINDM,2);
EINDSM400 = EINDM(:,1,:);
EINDGM400 = EINDM(:,2,:);
clear EINDM;
load('EINDM500.mat');
EINDM500 = sum(EINDM,2);
EINDSM500 = EINDM(:,1,:);
EINDGM500 = EINDM(:,2,:);
clear EINDM;
load('EINDM600.mat');
EINDM600 = sum(EINDM,2);
EINDSM600 = EINDM(:,1,:);
EINDGM600 = EINDM(:,2,:);
clear EINDM;
load('EINDM700.mat');
EINDM700 = sum(EINDM,2);
EINDSM700 = EINDM(:,1,:);
EINDGM700 = EINDM(:,2,:);
clear EINDM;

NGP100 = zeros(5,1);
NGP200 = zeros(5,1);
NGP300 = zeros(5,1);
NGP400 = zeros(5,1);
NGP500 = zeros(5,1);
NGP600 = zeros(5,1);
NGP700 = zeros(5,1);
MP100 = zeros(5,1);
MP200 = zeros(5,1);
MP300 = zeros(5,1);
MP400 = zeros(5,1);
MP500 = zeros(5,1);
MP600 = zeros(5,1);
MP700 = zeros(5,1);

for i = 1:5
    M100 = EINDM100(EINDM100(:,i) > 0.06,1,i);
    M200 = EINDM200(EINDM200(:,i) > 0.06,1,i);
    M300 = EINDM300(EINDM300(:,i) > 0.06,1,i);
    M400 = EINDM400(EINDM400(:,i) > 0.06,1,i);
    M500 = EINDM500(EINDM500(:,i) > 0.06,1,i);
    M600 = EINDM600(EINDM600(:,i) > 0.06,1,i);
    M700 = EINDM700(EINDM700(:,i) > 0.06,1,i);
    GM100 = EINDGM100(EINDM100(:,i) > 0.06,1,i);
    GM200 = EINDGM200(EINDM200(:,i) > 0.06,1,i);
    GM300 = EINDGM300(EINDM300(:,i) > 0.06,1,i);
    GM400 = EINDGM400(EINDM400(:,i) > 0.06,1,i);
    GM500 = EINDGM500(EINDM500(:,i) > 0.06,1,i);
    GM600 = EINDGM600(EINDM600(:,i) > 0.06,1,i);
    GM700 = EINDGM700(EINDM700(:,i) > 0.06,1,i);
    NGP100(i) = sum(GM100./M100 > 0.1);
    NGP200(i) = sum(GM200./M200 > 0.1);
    NGP300(i) = sum(GM300./M300 > 0.1);
    NGP400(i) = sum(GM400./M400 > 0.1);
    NGP500(i) = sum(GM500./M500 > 0.1);
    NGP600(i) = sum(GM600./M600 > 0.1);
    NGP700(i) = sum(GM700./M700 > 0.1);
    MP100(i) = mean(EINDM100(EINDM100(:,i) > 0.06,1,i));
    MP200(i) = mean(EINDM200(EINDM200(:,i) > 0.06,1,i));
    MP300(i) = mean(EINDM300(EINDM300(:,i) > 0.06,1,i));
    MP400(i) = mean(EINDM400(EINDM400(:,i) > 0.06,1,i));
    MP500(i) = mean(EINDM500(EINDM500(:,i) > 0.06,1,i));
    MP600(i) = mean(EINDM600(EINDM600(:,i) > 0.06,1,i));
    MP700(i) = mean(EINDM700(EINDM700(:,i) > 0.06,1,i));
end
MMP(1) = mean(MP100);
MMP(2) = mean(MP200);
MMP(3) = mean(MP300);
MMP(4) = mean(MP400);
MMP(5) = mean(MP500);
MMP(6) = mean(MP600);
MMP(7) = mean(MP700);
MNGP(1) = mean(NGP100);
MNGP(2) = mean(NGP200);
MNGP(3) = mean(NGP300);
MNGP(4) = mean(NGP400);
MNGP(5) = mean(NGP500);
MNGP(6) = mean(NGP600);
MNGP(7) = mean(NGP700);

figure;
scatter(100:100:700,MMP,25,[0,0,1],'o','filled');
title('Mean mass of planets after 5000 years');
xlabel('Initial number of celestial bodies');
ylabel('Mean mass in earth masses');

figure;
scatter(100:100:700,MNGP,25,[0,0,1],'o','filled');
title('Mean number of gas planets after 5000 years');
xlabel('Initial number of celestial bodies');
ylabel('Number of gas planets');
